# Smithery configuration file: https://smithery.ai/docs/deployments

startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    type: object
    required:
      - stabilityAiApiKey
    properties:
      stabilityAiApiKey:
        type: string
        description: Your Stability AI API key.
      imageStorageDirectory:
        type: string
        default: /tmp/stability-ai-images
        description: Directory where generated images will be saved.
  commandFunction:
    # A function that produces the CLI command to start the MCP on stdio.
    |-
    config => ({ command: 'node', args: ['build/index.js'], env: { STABILITY_AI_API_KEY: config.stabilityAiApiKey, IMAGE_STORAGE_DIRECTORY: config.imageStorageDirectory || '/tmp/stability-ai-images' } })